<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethio PC Scout - AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body class="bg-gray-100 font-sans">

    <div class="container mx-auto p-4">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800">Ethio PC Scout</h1>
            <p class="text-lg text-gray-600">Your AI-Powered PC & Laptop Finder</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Column 1: Sticky Sidebar -->
            <aside class="lg:col-span-1 lg:sticky top-4 self-start bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-6 border-b pb-2">Smart Filters</h2>
                
                <!-- Base Filters -->
                <div class="space-y-4">
                    <div>
                        <label for="filter-budget" class="block text-sm font-medium text-gray-700">Max Budget (ETB)</label>
                        <input type="number" id="filter-budget" placeholder="e.g., 50000" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="filter-ram" class="block text-sm font-medium text-gray-700">Min RAM (GB)</label>
                        <select id="filter-ram" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <option value="">Any RAM</option>
                            <option value="4">4 GB</option>
                            <option value="8">8 GB</option>
                            <option value="12">12 GB</option>
                            <option value="16">16 GB</option>
                            <option value="24">24 GB</option>
                            <option value="32">32 GB</option>
                        </select>
                    </div>
                    <div>
                        <label for="filter-cpu" class="block text-sm font-medium text-gray-700">CPU Type</label>
                        <select id="filter-cpu" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <option value="">Any CPU</option>
                            <option value="Core i3">Core i3</option>
                            <option value="Core i5">Core i5</option>
                            <option value="Core i7">Core i7</option>
                            <option value="Core i9">Core i9</option>
                            <option value="Ryzen 3">Ryzen 3</option>
                            <option value="Ryzen 5">Ryzen 5</option>
                            <option value="Ryzen 7">Ryzen 7</option>
                            <option value="Ryzen 9">Ryzen 9</option>
                            <option value="Apple M1">Apple M1</option>
                            <option value="Apple M2">Apple M2</option>
                            <option value="Apple M3">Apple M3</option>
                        </select>
                    </div>
                    <div>
                        <label for="filter-storage" class="block text-sm font-medium text-gray-700">Storage Capacity</label>
                        <select id="filter-storage" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <option value="">Any Storage</option>
                            <option value="128GB SSD">128GB SSD</option>
                            <option value="256GB SSD">256GB SSD</option>
                            <option value="512GB SSD">512GB SSD</option>
                            <option value="1TB SSD">1TB SSD</option>
                            <option value="2TB SSD">2TB SSD</option>
                            <option value="500GB HDD">500GB HDD</option>
                            <option value="1TB HDD">1TB HDD</option>
                            <option value="2TB HDD">2TB HDD</option>
                        </select>
                    </div>
                    <div>
                        <label for="filter-gpu" class="block text-sm font-medium text-gray-700">GPU Type</label>
                        <select id="filter-gpu" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                            <option value="">Any GPU</option>
                            <option value="Integrated Graphics">Integrated Graphics</option>
                            <option value="NVIDIA MX">NVIDIA MX Series</option>
                            <option value="NVIDIA GTX 1650">NVIDIA GTX 1650</option>
                            <option value="NVIDIA RTX 2060">NVIDIA RTX 2060</option>
                            <option value="NVIDIA RTX 3050">NVIDIA RTX 3050</option>
                            <option value="NVIDIA RTX 3060">NVIDIA RTX 3060</option>
                            <option value="NVIDIA RTX 4050">NVIDIA RTX 4050</option>
                            <option value="NVIDIA RTX 4060">NVIDIA RTX 4060</option>
                            <option value="NVIDIA RTX 4070">NVIDIA RTX 4070</option>
                            <option value="AMD Radeon RX 6600">AMD Radeon RX 6600</option>
                            <option value="AMD Radeon RX 7600">AMD Radeon RX 7600</option>
                        </select>
                    </div>
                </div>

                <!-- Dynamic Laptop-Only Filters Container -->
                <div id="dynamic-laptop-filters" class="hidden mt-6 pt-4 border-t space-y-4">
                    <!-- This container will be populated by index.js for category-specific filters -->
                </div>

                <!-- Filter Buttons -->
                <div class="mt-8 flex flex-col space-y-3">
                    <button onclick="applyFilters()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Apply Filters
                    </button>
                    <button onclick="clearAllFilters()" class="w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400">
                        Clear All Filters
                    </button>
                </div>
            </aside>

            <!-- Columns 2 & 3: Main Content Area -->
            <main class="lg:col-span-3 space-y-8">
                <!-- AI Shopping Consultant -->
                <section id="ai-consultant" class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">AI Shopping Consultant</h2>
                    <div class="flex gap-4">
                        <input type="text" id="ai-prompt" placeholder="Ask me anything... e.g., 'Best gaming laptop under 60k?'" class="flex-grow rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                        <button id="ai-submit-btn" class="bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700">Ask</button>
                    </div>
                    <div id="ai-response" class="mt-4 text-gray-700 prose max-w-none"></div>
                </section>

                <!-- Price Comparison Summary -->
                <section id="price-comparison-summary" class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Price Comparison Summary</h2>
                    <div id="summary-content">
                        <p class="text-gray-500">Analysis will appear here after selecting an item.</p>
                    </div>
                </section>

                <!-- Quick Category Filters & Active Filters -->
                <section class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex flex-wrap items-center gap-4">
                        <h3 class="text-lg font-semibold">Quick Categories:</h3>
                        <div id="quick-category-filters" class="flex flex-wrap gap-2">
                            <button class="category-btn bg-blue-500 text-white py-1 px-3 rounded-full text-sm" data-category="all">All</button>
                            <button class="category-btn bg-gray-200 text-gray-800 py-1 px-3 rounded-full text-sm" data-category="Laptop">Laptops</button>
                            <button class="category-btn bg-gray-200 text-gray-800 py-1 px-3 rounded-full text-sm" data-category="Desktop">Desktops</button>
                            <button class="category-btn bg-gray-200 text-gray-800 py-1 px-3 rounded-full text-sm" data-category="Component">Components</button>
                        </div>
                    </div>
                    <div id="active-filters-container" class="mt-4">
                        <h3 class="text-lg font-semibold">Active Filters:</h3>
                        <div id="active-filters" class="flex flex-wrap gap-2 mt-2">
                            <!-- Active filter chips will be injected here -->
                        </div>
                    </div>
                </section>

                <!-- Listings Table -->
                <section class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="p-6">
                        <h2 class="text-2xl font-bold">Listings</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table id="dataTable" class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Item</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price (ETB)</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Specs</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Source</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Link</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Good Deal?</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- Data rows will be injected here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Modal for "Is it a Good Deal?" -->
    <div id="deal-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
            <div class="mt-3 text-center">
                <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">AI Deal Analysis</h3>
                <div class="mt-2 px-7 py-3">
                    <p class="text-sm text-gray-500" id="modal-content">
                        Loading analysis...
                    </p>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="modal-close-btn" class="px-4 py-2 bg-gray-500 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-300">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>